<!doctype html>
<html lang="pl">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">    
    <link rel="stylesheet" href="build/css/intlTelInput.css">
    <link rel="stylesheet" href="build/css/demo.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    
    
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/css/fontello.css">
    
    <title>Hello, world!</title>
  </head>
  <body>
    
    <div class="container">
        <div id="header">Wpisz Swój numer telefonu, a przewoźnicy zadzwonią do Ciebie</div>
        <form id="myform" class="needs-validation" novalidate>
        <div class="form-row justify-content-center">
            <div class="col cols col-12 col-sm-12 col-md-6 col-lg-2">
                <input type="text" class="form-control" id="from" placeholder="Skąd">
            </div>
            <div class="col cols col-12 col-sm-12 col-md-6 col-lg-2">
                <input type="text" class="form-control" id="where" placeholder="Dokąd">    
            </div>
            <div class="col cols col-12 col-sm-12 col-md-6 col-lg-3">
                <input id="phone" name="phone" type="tel" class="form-control" maxlength="9" placeholder="Twój nr telefonu" required>
            </div>
            <div class="col cols col-12 col-sm-12 col-md-6 col-lg-3">
                <input type="date" class="form-control" id="departureDate" placeholder="12-01-2020">
            </div>
            <div class="col cols col-12 col-sm-12 col-md-12 col-lg">
                <button type="button" id="btn1" class="btn btn-warning">Szukaj</button>
            </div>
            
        </div>
            <div class="form-row">
                <div class="col cols col-12 col-sm-12 col-md-2 col-lg-1 checkbox1">
                    <label class="checkboxContainer1" for="checkbox-1">W obie strony
                        <input type="checkbox" class="form-check-input" id="checkbox-1">
                        <span class="checkmark1"></span>
                    </label>
                </div>

                <div class="col cols col-12 col-sm-12 col-md-3 col-lg-1 checkbox2">
                    <label class="checkboxContainer1" for="checkbox-2">Wyjazd wieczorem
                        <input type="checkbox" class="form-check-input" id="checkbox-2">
                        <span class="checkmark1"></span>
                    </label>    
                </div>

                <div class="col cols col-12 col-sm-12 col-md-2 col-lg-1 checkbox3">
                    <label class="checkboxContainer1" for="checkbox-3">Wyjazd rano
                        <input type="checkbox" class="form-check-input" id="checkbox-3">
                        <span class="checkmark1"></span>
                    </label>                    
                </div>

                <div class="col col-12 col-sm-12 col-md-2 col-lg-2">
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle btn-sm" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i id="person" class="icon-user"></i>
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                          <a class="dropdown-item" href="#">1</a>
                          <a class="dropdown-item" href="#">2</a>
                          <a class="dropdown-item" href="#">3</a>
                          <a class="dropdown-item" href="#">4</a>
                          <a class="dropdown-item" href="#">5</a>
                          <a class="dropdown-item" href="#">6</a>
                        </div>
                      </div>
                </div>                

            </div>
            <div class="form-row">
                <div class="col cols row3 col-12 col-md-2 col-lg-1">
                    <div>Chcesz zabrać:</div>
                </div>
                <div class="col cols col-12 col-md-2 col-lg-1 parcel">
                    <div id="parcel">
                        <label class="checkboxContainer2" for="checkbox-4">
                            <i class="icons icon-box"></i>
                                <div class="labels">Paczkę</div>
                                <input type="checkbox" class="form-check-input" id="checkbox-4">
                        <span class="checkmark2"></span>
                        </label>
                    </div>
                </div>
                <div class="col cols col-12 col-md-2 col-lg-1 pet">
                    <div id="pet">
                        <label class="checkboxContainer2" for="checkbox-5">
                            <i class="icons icon-guidedog"></i>
                            <div class="labels">Zwierzę</div>
                            <input type="checkbox" class="form-check-input" id="checkbox-5">
                        <span class="checkmark2"></span>
                        </label>
                    </div>
                </div>
                <div class="col cols col-12 col-md-4 col-lg-1 disability">
                    <div id="disability">
                        <label class="checkboxContainer2" for="checkbox-6">
                            <i class="icons icon-accessibility"></i>
                            <div class="labels">Niepełnosprawny</div>
                            <input type="checkbox" class="form-check-input" id="checkbox-6">
                        <span class="checkmark2"></span>
                        </label>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div aria-live="polite" aria-atomic="true">

        <div id="box" style="position: absolute; bottom: 30px; right: 30px;">
          <div class="toast" id="toast" role="alert" aria-live="assertive" aria-atomic="true" data-delay="3000">
            <div class="toast-header" id="th">
              <img class="rounded mr-2">
              <strong class="mr-auto" id="toastError">Błąd!</strong>
              <small>just now</small>
              <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="toast-body" id="toastContent">...</div>
          </div>
        </div>
      </div>
      
      <script src="build/js/intlTelInput.js"></script>
      <script>
           var input = document.querySelector("#phone");
              window.intlTelInput(input, {
              // allowDropdown: false,
              // autoHideDialCode: false,
              // autoPlaceholder: "off",
              // dropdownContainer: document.body,
              // excludeCountries: ["us"],
              // formatOnDisplay: false,
              // geoIpLookup: function(callback) {
              //   $.get("http://ipinfo.io", function() {}, "jsonp").always(function(resp) {
              //     var countryCode = (resp && resp.country) ? resp.country : "";
              //     callback(countryCode);
              //   });
              // },
              // hiddenInput: "full_number",
              // initialCountry: "auto",
              // localizedCountries: { 'de': 'Deutschland' },
              // nationalMode: false,
              // onlyCountries: ['us', 'gb', 'ch', 'ca', 'do'],
              // placeholderNumberType: "MOBILE",
              // preferredCountries: ['cn', 'jp'],
              // separateDialCode: true,
              utilsScript: "build/js/utils.js",
              });
      </script>
    <script>
        let myForm = document.getElementById('myForm');
        let btn1 = document.getElementById('btn1');
        let box = document.getElementById('box');
        let ToastTemp = document.getElementById('toast');
        let ToastContent = document.getElementById('toastContent');
        // let parcel = document.getElementById("parcel");
        // let pet = document.getElementById('pet');
        // let disability = document.getElementById('disability');
        let pClass = document.getElementById('phone');

        str = ``;
        let pNumber;

        // function TextColor(){

        //         if(color1.classList.contains("style1")){
        //             color1.classList.remove("style1");
        //             color1.classList.add("style2");
        //         }else{
        //             color1.classList.remove("style2");
        //             color1.classList.add("style1");
        //         }  
        // }

        // document.addEventListener('click', TextColor);
        
        function phonePattern(){
            pNumber = document.getElementById('phone').value;
            console.log(pNumber);

            let pattern = /^[0-9]{9}$/;
            let NumberTest = pattern.test(pNumber);

            if(NumberTest == true){            
                pClass.classList.remove("is-invalid");
                pClass.classList.add("is-valid");
            }else{
                pClass.classList.remove("is-valid");
                pClass.classList.add("is-invalid");

                if(pNumber == ""){
                    str = `Brak danych!<br/> Podaj numer telefonu!`;
                }else{
                    str = `Podany nr tel: <strong>${pNumber}</strong><br/> Numer telefonu musi składać się z 9 cyfr`;
                }
                
                showToast();                
            }
        }

        function showToast (){
            ToastContent.innerHTML = str;
            let ToastCopy = ToastTemp.cloneNode(true);
            box.appendChild(ToastCopy);
            $(ToastCopy).toast('show');

            $(ToastCopy).on('hidden.bs.toast', function () {
                $(ToastCopy).remove();
            });

            console.log('Funkcja');
        }

        btn1.addEventListener('click', phonePattern);

    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
  </body>
</html>