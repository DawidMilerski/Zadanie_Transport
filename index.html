<!doctype html>
<html lang="pl">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">    

    <link rel="stylesheet" href="node_modules/intl-tel-input/build/css/intlTelInput.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">    

    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/css/bootstrap-datepicker.min.css" rel="stylesheet"/>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/css/fontello.css">
    
    <title>Zadanie Transport</title>
  </head>
  <body>
    
    <div class="container">
        <div id="header">Wpisz Swój numer telefonu, a przewoźnicy zadzwonią do Ciebie</div>
        <form id="myform" class="needs-validation" novalidate>
        <div class="form-row justify-content-center">
            <div class="col cols col-12 col-sm-12 col-md-6 col-lg-2">
                <input type="text" class="form-control" id="from" placeholder="Skąd">
            </div>
            <div class="col cols col-12 col-sm-12 col-md-6 col-lg-2">
                <input type="text" class="form-control" id="where" placeholder="Dokąd">    
            </div>
            <div class="col cols col-12 col-sm-12 col-md-6 col-lg-3">
                <input id="phone" name="phone" type="tel" class="form-control" maxlength="20" required>
            </div>
            <div class="col cols col-12 col-sm-12 col-md-6 col-lg-3">
                <!-- <input type="date" class="form-control datepicker" id="departureDate"> -->
                <input data-date-format="dd-mm-yyyy" class="form-control datepicker" id="datepicker">        
            </div>
            <div class="col cols col-12 col-sm-12 col-md-12 col-lg">
                <button type="button" id="btn1" class="btn btn-warning">Szukaj</button>
            </div>
            
        </div>
            <div class="form-row">
                <div class="col cols col-12 col-sm-12 col-md-2 col-lg-1 checkbox1">
                    <label class="checkboxContainer1" for="checkbox1">W obie strony
                        <input type="checkbox" class="form-check-input" id="checkbox1">
                        <span class="checkmark1"></span>
                    </label>
                </div>

                <div class="col cols col-12 col-sm-12 col-md-3 col-lg-1 checkbox2">
                    <label class="checkboxContainer1" for="checkbox2">Wyjazd wieczorem
                        <input type="checkbox" class="form-check-input" id="checkbox2">
                        <span class="checkmark1"></span>
                    </label>    
                </div>

                <div class="col cols col-12 col-sm-12 col-md-2 col-lg-1 checkbox3">
                    <label class="checkboxContainer1" for="checkbox3">Wyjazd rano
                        <input type="checkbox" class="form-check-input" id="checkbox3">
                        <span class="checkmark1"></span>
                    </label>                    
                </div>

                <div class="col col-12 col-sm-12 col-md-2 col-lg-2">
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle btn-sm" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i id="person" class="icon-user"></i>
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                          <a class="dropdown-item" href="#">1</a>
                          <a class="dropdown-item" href="#">2</a>
                          <a class="dropdown-item" href="#">3</a>
                          <a class="dropdown-item" href="#">4</a>
                          <a class="dropdown-item" href="#">5</a>
                          <a class="dropdown-item" href="#">6</a>
                        </div>
                      </div>
                </div>                

            </div>
            <div class="form-row">
                <div class="col cols row3 col-12 col-md-2 col-lg-1">
                    <div>Chcesz zabrać:</div>
                </div>
                <div class="col cols col-12 col-md-2 col-lg-1 parcel">
                    <div id="parcel">
                        <label class="checkboxContainer2" for="checkbox4">
                            <i class="icons icon-box"></i>
                                <div class="labels">Paczkę</div>
                                <input type="checkbox" onclick="parcelColor()" class="form-check-input" id="checkbox4">
                        <span class="checkmark2"></span>
                        </label>
                    </div>
                </div>
                <div class="col cols col-12 col-md-2 col-lg-1 pet">
                    <div id="pet">
                        <label class="checkboxContainer2" for="checkbox5">
                            <i class="icons icon-guidedog"></i>
                            <div class="labels">Zwierzę</div>
                            <input type="checkbox"  onclick="petColor()" class="form-check-input" id="checkbox5">
                        <span class="checkmark2"></span>
                        </label>
                    </div>
                </div>
                <div class="col cols col-12 col-md-4 col-lg-1 disability">
                    <div id="disability">
                        <label class="checkboxContainer2" for="checkbox6">
                            <i class="icons icon-accessibility"></i>
                            <div class="labels">Niepełnosprawny</div>
                            <input type="checkbox"  onclick="disabilityColor()" class="form-check-input" id="checkbox6">
                        <span class="checkmark2"></span>
                        </label>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div aria-live="polite" aria-atomic="true">

        <div id="box" style="position: absolute; bottom: 30px; right: 30px;">
          <div class="toast" id="toast" role="alert" aria-live="assertive" aria-atomic="true" data-delay="3000">
            <div class="toast-header" id="th">
              <img class="rounded mr-2">
              <strong class="mr-auto" id="toastError">Błąd!</strong>
              <small>just now</small>
              <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="toast-body" id="toastContent">...</div>
          </div>
        </div>
      </div>
      
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/js/bootstrap-datepicker.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="node_modules/intl-tel-input/build/js/intlTelInput.js"></script>
    <script> 
        //Number validation

        var input = document.querySelector("#phone");
        var btn = document.getElementById('btn1');

        var errorMsg = "";
        var errorMap = ["Złe dane!", "Zły kod telefoniczny kraju!", "Za krótki numer telefonu!", "Za długi numer telefonu!", "Złe dane!"];

        var iti = window.intlTelInput(input, {
            utilsScript: "node_modules/intl-tel-input/build/js/utils.js",
        });

        // var reset = function() {
        //     input.classList.remove("is-invalid");
        //     input.classList.remove("is-valid");
        // };


        btn.addEventListener('click', function () {
            if (input.value.trim()) {
                if (iti.isValidNumber()) {
                    input.classList.remove("is-invalid");
                    input.classList.add("is-valid");
                    errorMsg = "";
                } else {
                    input.classList.remove("is-valid");
                    input.classList.add("is-invalid");
                    var errorCode = iti.getValidationError();
                    errorMsg = errorMap[errorCode];
                    showToast();
                }
            }
        });

        let box = document.getElementById('box');
        let ToastTemp = document.getElementById('toast');
        let ToastContent = document.getElementById('toastContent');
    
        function showToast () {
            ToastContent.innerHTML = errorMsg;
            let ToastCopy = ToastTemp.cloneNode(true);
            box.appendChild(ToastCopy);
            $(ToastCopy).toast('show');

            $(ToastCopy).on('hidden.bs.toast', function () {
                $(ToastCopy).remove();
            });

        }


        //Checkbox text color
               
        let parcel = document.getElementById("parcel");
        let pet = document.getElementById('pet');
        let disability = document.getElementById('disability');
        let checkbox4 = document.querySelector('#checkbox4');
        let checkbox5 = document.querySelector('#checkbox5');
        let checkbox6 = document.querySelector('#checkbox6');

        function parcelColor() {
            if (checkbox4.checked == true) {
                parcel.style.color = "#fff";
            } else {
                parcel.style.color = "#999";
            }
        }

        function petColor() {
            if (checkbox5.checked == true) {
                pet.style.color = "#fff";
            } else {
                pet.style.color = "#999";
            }
        }

        function disabilityColor() {
            if (checkbox6.checked == true) {
                disability.style.color = "#fff";
            } else {
                disability.style.color = "#999";
            }
        }


        //Datepicker

        $('#datepicker').datepicker({
            weekStart: 1,
            daysOfWeekHighlighted: "6,0",
            autoclose: true,
            todayHighlight: true,
        });
        $('#datepicker').datepicker("setDate", new Date());

    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
  </body>
</html>